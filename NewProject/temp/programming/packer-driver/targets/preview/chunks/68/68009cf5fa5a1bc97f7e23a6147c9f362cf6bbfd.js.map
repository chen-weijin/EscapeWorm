{"version":3,"sources":["file:///G:/escapeworm/NewProject/assets/scripts/Main.ts"],"names":["_decorator","Component","Node","director","StorageManager","ccclass","property","Main","storageManager","onLoad","addComponent","init","startButton","on","EventType","TOUCH_END","onStartGame","settingButton","onOpenSettings","console","log","loadScene"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAISA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,Q,OAAAA,Q;;AAC7BC,MAAAA,c,iBAAAA,c;;;;;;AALT;AACA;AACA;AACA;;;;;OAIM;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;sBAGjBO,I,WADZF,OAAO,CAAC,MAAD,C,UAEHC,QAAQ,CAACJ,IAAD,C,UAGRI,QAAQ,CAACJ,IAAD,C,2BALb,MACaK,IADb,SAC0BN,SAD1B,CACoC;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAOxBO,cAPwB,GAOgB,IAPhB;AAAA;;AAStBC,QAAAA,MAAM,GAAG;AACf;AACA,eAAKD,cAAL,GAAsB,KAAKE,YAAL;AAAA;AAAA,+CAAtB;AACA,eAAKF,cAAL,CAAoBG,IAApB,GAHe,CAKf;;AACA,cAAI,KAAKC,WAAT,EAAsB;AAClB,iBAAKA,WAAL,CAAiBC,EAAjB,CAAoBX,IAAI,CAACY,SAAL,CAAeC,SAAnC,EAA8C,KAAKC,WAAnD,EAAgE,IAAhE;AACH;;AAED,cAAI,KAAKC,aAAT,EAAwB;AACpB,iBAAKA,aAAL,CAAmBJ,EAAnB,CAAsBX,IAAI,CAACY,SAAL,CAAeC,SAArC,EAAgD,KAAKG,cAArD,EAAqE,IAArE;AACH;AACJ;AAED;AACJ;AACA;;;AACWF,QAAAA,WAAW,GAAG;AACjBG,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAjB,UAAAA,QAAQ,CAACkB,SAAT,CAAmB,WAAnB;AACH;AAED;AACJ;AACA;;;AACWH,QAAAA,cAAc,GAAG;AACpBC,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EADoB,CAEpB;AACH;;AAtC+B,O;;;;;iBAEE,I;;;;;;;iBAGE,I","sourcesContent":["/**\r\n * 游戏主入口脚本\r\n * 将此脚本挂载到 LaunchScene 的 Canvas 节点上\r\n */\r\nimport { _decorator, Component, Node, director, Button, EventHandler } from 'cc';\r\nimport { StorageManager } from './managers/StorageManager';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Main')\r\nexport class Main extends Component {\r\n    @property(Node)\r\n    public startButton: Node | null = null;\r\n\r\n    @property(Node)\r\n    public settingButton: Node | null = null;\r\n\r\n    private storageManager: StorageManager | null = null;\r\n\r\n    protected onLoad() {\r\n        // 初始化存储管理器\r\n        this.storageManager = this.addComponent(StorageManager);\r\n        this.storageManager.init();\r\n\r\n        // 绑定按钮事件\r\n        if (this.startButton) {\r\n            this.startButton.on(Node.EventType.TOUCH_END, this.onStartGame, this);\r\n        }\r\n\r\n        if (this.settingButton) {\r\n            this.settingButton.on(Node.EventType.TOUCH_END, this.onOpenSettings, this);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 开始游戏\r\n     */\r\n    public onStartGame() {\r\n        console.log('开始游戏');\r\n        director.loadScene('GameScene');\r\n    }\r\n\r\n    /**\r\n     * 打开设置\r\n     */\r\n    public onOpenSettings() {\r\n        console.log('打开设置');\r\n        // TODO: 显示设置面板\r\n    }\r\n}\r\n\r\n"]}